(this["webpackJsonpthe-cloud"]=this["webpackJsonpthe-cloud"]||[]).push([[0],{39:function(e,t,a){e.exports=a(51)},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),u=a.n(c),l=a(13),o=a(18),i=a(37),s=a(3);var p={email:null,password:null,token:null,loading:!1,error:null};var d={page:1,per_page:null,total:null,total_pages:null,data:[],loading:!1,error:null};var m={id:null,email:null,first_name:null,last_name:null,updated:!1,deleted:!1,loading:!1,error:null},E=Object(o.b)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOGIN":return Object(s.a)(Object(s.a)(Object(s.a)({},p),n),{},{loading:!0});case"LOGIN_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{loading:!1,password:null,error:null,token:n});case"LOGIN_ERROR":return Object(s.a)(Object(s.a)({},p),{},{error:n});case"LOGOUT":return p;default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOAD_USERS":return Object(s.a)(Object(s.a)({},d),{},{loading:!0});case"CHANGE_PAGE":return Object(s.a)(Object(s.a)({},d),{},{page:n,loading:!0});case"LOAD_USERS_SUCCESS":return Object(s.a)(Object(s.a)({},n),{},{loading:!1,error:null});case"LOAD_USERS_ERROR":return Object(s.a)(Object(s.a)({},d),{},{error:n});default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOAD_USER":return Object(s.a)(Object(s.a)({},e),{},{id:n,loading:!0});case"LOAD_USER_SUCCESS":return Object(s.a)(Object(s.a)(Object(s.a)({},e),n),{},{loading:!1});case"LOAD_USER_ERROR":return Object(s.a)(Object(s.a)({},e),{},{error:"Lo siento, algo fallo y no pudimos descargar la informacion del usuario."});case"UPDATE_USER":return Object(s.a)(Object(s.a)(Object(s.a)({},e),n),{},{loading:!0,error:null});case"UPDATE_USER_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{loading:!1,updated:!0});case"UPDATE_USER_ERROR":return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:"Lo siento, algo fallo y no pudimos actualizar el usuario."});case"DELETE_USER":return Object(s.a)(Object(s.a)({},e),{},{loading:!0,error:null});case"DELETE_USER_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{loading:!1,deleted:!0});case"DELETE_USER_ERROR":return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:"Lo siento, algo fallo y no pudimos eliminar el usuario."});default:return e}}}),b=a(5),f=a.n(b),O=a(6),v=a(17),h=f.a.mark(g),j=f.a.mark(y);function g(){var e,t;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(O.d)(S);case 3:return e=a.sent,a.next=6,Object(O.b)(x,e);case 6:return t=a.sent,a.next=9,Object(O.c)({type:"LOGIN_SUCCESS",payload:t});case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(0),a.next=15,Object(O.c)({type:"LOGIN_ERROR",payload:a.t0});case 15:case"end":return a.stop()}}),h,null,[[0,11]])}function S(e){return e.authentication}function x(e){return _.apply(this,arguments)}function _(){return(_=Object(v.a)(f.a.mark((function e(t){var a,n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reqres.in/api/login",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,r=n.token,c=n.error,!r){e.next=12;break}return e.abrupt("return",r);case 12:throw c;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)("LOGIN",g);case 2:case"end":return e.stop()}}),j)}var R=f.a.mark(k),U=f.a.mark(D);function k(){var e,t;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(O.d)(w);case 3:return e=a.sent,a.next=6,Object(O.b)(C,e);case 6:return t=a.sent,a.next=9,Object(O.c)({type:"LOAD_USERS_SUCCESS",payload:t});case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(0),a.next=15,Object(O.c)({type:"LOAD_USERS_ERROR",payload:a.t0});case 15:case"end":return a.stop()}}),R,null,[[0,11]])}function w(e){return e.userList.page}function C(e){return L.apply(this,arguments)}function L(){return(L=Object(v.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reqres.in/api/users?page="+t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)("LOAD_USERS",k);case 2:return e.next=4,Object(O.e)("CHANGE_PAGE",k);case 4:case"end":return e.stop()}}),U)}var N=f.a.mark(F),A=f.a.mark(q),T=f.a.mark(z),P=f.a.mark(K);function G(e){var t=e.userDetails;return{id:t.id,data:{email:t.email,first_name:t.first_name,last_name:t.last_name}}}function F(){var e,t,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(O.d)(G);case 3:return e=n.sent,t=e.id,n.next=7,Object(O.b)(I,t);case 7:return a=n.sent,n.next=10,Object(O.c)({type:"LOAD_USER_SUCCESS",payload:a});case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(0),n.next=16,Object(O.c)({type:"LOAD_USER_ERROR",payload:n.t0});case 16:case"end":return n.stop()}}),N,null,[[0,12]])}function I(e){return B.apply(this,arguments)}function B(){return(B=Object(v.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reqres.in/api/users/"+t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){var e,t,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(O.d)(G);case 3:return e=n.sent,t=e.id,a=e.data,n.next=8,Object(O.b)(J,t,a);case 8:return n.next=10,Object(O.c)({type:"UPDATE_USER_SUCCESS"});case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(0),n.next=16,Object(O.c)({type:"UPDATE_USER_ERROR"});case 16:case"end":return n.stop()}}),A,null,[[0,12]])}function J(e,t){return H.apply(this,arguments)}function H(){return(H=Object(v.a)(f.a.mark((function e(t,a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reqres.in/api/users/"+t,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(a)});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){var e,t;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(O.d)(G);case 3:return e=a.sent,t=e.id,a.next=7,Object(O.b)(V,t);case 7:return a.next=9,Object(O.c)({type:"DELETE_USER_SUCCESS"});case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(0),a.next=15,Object(O.c)({type:"DELETE_USER_ERROR"});case 15:case"end":return a.stop()}}),T,null,[[0,11]])}function V(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reqres.in/api/users/"+t,{method:"DELETE",headers:{"Content-type":"application/json"}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)("LOAD_USER",F);case 2:return e.next=4,Object(O.e)("UPDATE_USER",q);case 4:return e.next=6,Object(O.e)("DELETE_USER",z);case 6:case"end":return e.stop()}}),P)}var M=f.a.mark(Q);function Q(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)([y(),D(),K()]);case 2:case"end":return e.stop()}}),M)}var W=Object(i.a)(),X=Object(o.d)(E,Object(o.a)(W));W.run(Q);var Z=X,$=a(15),ee=a(30),te=a(31),ae=a(38),ne=a(36),re=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(te.a)(a,[{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(r.a.Component),ce=a(9),ue=a(19),le=a(16);var oe=function(){var e=Object(n.useState)((new Date).getFullYear()),t=Object(le.a)(e,1)[0];return r.a.createElement("footer",null,"\xa9 Copyright ",t)};var ie=function(e){var t=e.children;return r.a.createElement("div",{className:"content-container","data-testid":"content-container"},t,r.a.createElement(oe,null))};var se=function(e){var t=e.text,a=void 0===t?"":t;return a?r.a.createElement("p",{className:"error-message"},a):null};var pe=function(){return r.a.createElement("div",{className:"sk-chase","data-testid":"spinner-container"},r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}))};var de=function(e){var t=e.text,a=void 0===t?"":t,n=e.onClick,c=e.className,u=void 0===c?"simple-btn":c;return r.a.createElement("button",{className:u,onClick:n},a)};var me=function(e){var t=e.columns;return r.a.createElement("thead",{"data-testid":"table-head"},r.a.createElement("tr",null,t.map((function(e,t){return r.a.createElement("th",{key:t},e)}))))};var Ee=function(e){var t=e.rows;return r.a.createElement("tbody",{"data-testid":"table-body"},t.map((function(e,t){return r.a.createElement("tr",{key:t},e.map((function(e,t){return r.a.createElement("td",{key:t},e)})))})))};var be=function(e){var t=e.pagination,a=e.pageChange,n=void 0===a?function(){}:a,c=t.currentPage,u=t.totalPages,l=Array.from({length:u},(function(e,t){var a=t+1,n="pagination-btn";return c===a&&(n+=" active"),r.a.createElement("button",{className:n,key:a,value:a,onClick:o},a)}));function o(e){var t=+e.target.value;t!==c&&n(t)}return r.a.createElement("div",{"data-testid":"pagination-container"},l)};var fe=function(e){var t=e.columns,a=e.rows,n=e.pagination,c=e.pageChange,u=void 0===c?function(){}:c;return r.a.createElement("div",{className:"table-container"},r.a.createElement("table",null,r.a.createElement(me,{columns:t}),r.a.createElement(Ee,{rows:a})),r.a.createElement(be,{pagination:n,pageChange:u}))},Oe=a(32),ve=function(e){var t=e.tabTitle,a=void 0===t?"The Cloud - ":t,n=e.tabSubTitle,c=void 0===n?"":n,u="".concat(a," ").concat(c).trim();return r.a.createElement(Oe.a,null,r.a.createElement("title",null,u))};var he=function(e){var t=e.label,a=e.value,c=void 0===a?"":a,u=e.onChange,l=e.type,o=void 0===l?"text":l,i=Object(n.useState)(c||""),s=Object(le.a)(i,2),p=s[0],d=s[1];return Object(n.useEffect)((function(){d(c||"")}),[c]),r.a.createElement("div",{className:"text-input","data-testid":"text-input"},r.a.createElement("label",{htmlFor:t},t),r.a.createElement("input",{id:t,value:p,type:o,onChange:function(e){var t=e.target.value;d(t),u(t)}}))};var je=function(e){var t=e.text,a=void 0===t?"":t;return r.a.createElement("h1",{className:"view-title"},a)};var ge=function(e){var t=e.loading,a=e.error,c=e.dispatchLogin,u=Object(n.useState)({email:null,password:null}),l=Object(le.a)(u,2),o=l[0],i=l[1];function p(e,t){i((function(a){return Object(s.a)(Object(s.a)({},a),{},Object(ue.a)({},e,t))}))}return t?r.a.createElement(pe,null):r.a.createElement(n.Fragment,null,r.a.createElement(ve,{tabSubTitle:"Login"}),r.a.createElement(je,{text:"Login with Email"}),r.a.createElement(he,{label:"Email",onChange:function(e){return p("email",e)}}),r.a.createElement(he,{type:"password",label:"Password",onChange:function(e){return p("password",e)}}),r.a.createElement(de,{text:"Login",onClick:function(){c(o)}}),r.a.createElement(se,{text:a}))};var Se=function(){var e,t,a=Object(l.c)((function(e){return e.userList})),c=Object(l.b)(),u=a.data.map((function(e){var t=e.first_name,a=e.last_name,n=e.id;return[t,a,r.a.createElement($.b,{to:"/details/".concat(n)},"View")]})),o=(e=a.page,t=a.total_pages,{currentPage:e,totalPages:t});return Object(n.useEffect)((function(){c({type:"LOAD_USERS"})}),[c]),a.loading?r.a.createElement(pe,null):r.a.createElement(n.Fragment,null,r.a.createElement(ve,{tabSubTitle:"Users List"}),r.a.createElement(je,{text:"Users List"}),r.a.createElement(fe,{columns:["First Name","Last Name","Details"],rows:u,pagination:o,pageChange:function(e){c({type:"CHANGE_PAGE",payload:e})}}),r.a.createElement(se,{text:a.error}))};var xe=function(e){var t=e.state,a=e.clickOnUpdateBtn,c=void 0===a?function(){}:a,u=e.clickOnDeleteBtn,l=void 0===u?function(){}:u,o=Object(n.useState)(t),i=Object(le.a)(o,2),p=i[0],d=i[1];function m(e,t){d((function(a){return Object(s.a)(Object(s.a)({},a),{},Object(ue.a)({},e,t))}))}return Object(n.useEffect)((function(){d(function(e){var t=e.id,a=e.email,n=e.first_name,r=e.last_name;return{id:t,email:a,first_name:n,last_name:r}}(t))}),[t]),r.a.createElement("div",null,r.a.createElement(he,{label:"First Name",value:p.first_name,onChange:function(e){return m("first_name",e)}}),r.a.createElement(he,{label:"Last Name",value:p.last_name,onChange:function(e){return m("last_name",e)}}),r.a.createElement(he,{type:"email",label:"Email",value:p.email,onChange:function(e){return m("email",e)}}),r.a.createElement(de,{text:"Update",onClick:function(){return c(p)}}),r.a.createElement(de,{text:"Delete",onClick:function(){return l()}}))};var _e=function(e){var t=e.match,a=Object(l.c)((function(e){return e.userDetails})),c=Object(l.b)(),u=+t.params.id;return Object(n.useEffect)((function(){a.id!==u&&c({type:"LOAD_USER",payload:u})}),[u,c,a]),a.loading?r.a.createElement(pe,null):r.a.createElement(n.Fragment,null,r.a.createElement(ve,{tabSubTitle:"User Details"}),r.a.createElement(je,{text:"User Details"}),r.a.createElement(xe,{state:a,clickOnUpdateBtn:function(e){return c({type:"UPDATE_USER",payload:e})},clickOnDeleteBtn:function(){return c({type:"DELETE_USER",payload:u})}}),r.a.createElement($.b,{to:"/details"},"Go Back"),r.a.createElement(se,{text:a.error}))};var ye=function(){return r.a.createElement("div",null,r.a.createElement(ce.d,null,r.a.createElement(ce.b,{exact:!0,path:"/",component:Se}),r.a.createElement(ce.b,{path:"/details/:id",component:_e}),r.a.createElement(ce.a,{exact:!0,to:"/"})))};var Re=function(e){var t=e.children,a=Object(l.c)((function(e){return e.authentication})),c=a.token,u=a.loading,o=a.error,i=Object(l.b)(),s=Object(ce.g)();return c?r.a.createElement(n.Fragment,null,r.a.createElement(de,{text:"Logout",className:"logout-btn",onClick:function(){i({type:"LOGOUT"}),s.push("/")}}),t):r.a.createElement(ge,{loading:u,error:o,dispatchLogin:function(e){i({type:"LOGIN",payload:e})}})};a(50);var Ue=function(){return r.a.createElement($.a,null,r.a.createElement(re,null,r.a.createElement(ie,null,r.a.createElement(Re,null,r.a.createElement(ye,null)))))};u.a.render(r.a.createElement(l.a.Provider,{value:Z},r.a.createElement(Ue,null)),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.a5a3e4fc.chunk.js.map